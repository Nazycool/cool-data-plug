{% extends "main.html" %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/slider.css' %}" />
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}" />
{% endblock style %}

{% block title %} My Dashboard {% endblock title %}

{% block nav %}
<nav class="dashboard__nav">
    <div class="toggle__menu">
        <i class="fa-solid fa-bars" aria-hidden="true"></i>
    </div>
</nav>

<div class="navbar__links-container dropdown-menu scale-up-center">
    <p><a href="{% url 'logout' %}">Logout</a></p>
</div>
{% endblock nav %}

{% block content %}
  
<!-- Dashboad Header -->
<header>
  <div class="full__container">
    <div class="left__item">
      <h4 class="balance">Wallet Balance</h4>
      <div class="item__hide">
        <h2 class="show">₦{{balance}}</h2>
        <i class="fa-solid far fa-eye-slash" aria-hidden="true"></i>
      </div>

      <br />

      <h4 class="balance">Bonus Balance</h4>
      <h2 class="bonus">₦5,600</h2>
    </div>

    <div class="right__item">
      <div class="mini__item">
        <div class="mini__pre__content">
          <h4>Moniepoint</h4>
          <div class="mini__pre__content__half">
            <h4>6393893949</h4>
            <i
              class="fa-solid far far fa-copy"
              aria-hidden="true"
              onclick="copyText('6393893949')"
            ></i>
          </div>
        </div>
      </div>
      <div class="mini__item">
        <div class="mini__pre__content">
          <h4>Sterling</h4>
          <div class="mini__pre__content__half">
            <h4>{{SterlingBank}}</h4>
            <i
              class="fa-solid far far fa-copy"
              aria-hidden="true"
              onclick="copyText('9393893949')"
            ></i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="sub__header">
    <p class="quick__service">Quick Services</p>

    <div class="sub__header__container">
      <div class="sub__header__item">
        <div class="sub__item__content">
          <i class="fa fas fa-money-check-alt" aria-hidden="true"></i>
          <p class="poppins-regular">Funding</p>
        </div>
      </div>
      <div class="sub__header__item">
        <div class="sub__item__content">
          <i class="fa fas fa-money-bill-alt" aria-hidden="true"></i>
          <p class="poppins-regular">Pricing</p>
        </div>
      </div>
      <div class="sub__header__item">
        <div class="sub__item__content">
          <i class="fa fas fa-sort-numeric-up" aria-hidden="true"></i>
          <p class="poppins-regular">Upgrade</p>
        </div>
      </div>
      <div class="sub__header__item">
        <div class="sub__item__content">
          <i class="fa fas fa-people-arrows" aria-hidden="true"></i>
          <p class="poppins-regular">Referral</p>
        </div>
      </div>
    </div>

    <p class="quick__service">Quick Data</p>
    <div class="quick__data__container">
     <a href="{% url '9mobile-data-list' network='9Mobile' %}">
      <div class="quick__data__item">
        <div class="service__icon">
          <img src="../images/9mobile.jpg" alt="" srcset="" />
        </div>
        <h2>9Mobile Data</h2>
      </div>
     </a>
     <a href="{% url 'glo-data-list' network='Glo' %}">
      <div class="quick__data__item">
        <div class="service__icon">
          <img src="../images/glo.jpg" alt="" srcset="" />
        </div>
        <h2>Glo Data</h2>
      </div>
     </a>
     <a href="{% url 'airtel-data-list' network='Airtel' %}">
      <div class="quick__data__item">
        <div class="service__icon">
          <img src="../images/airtel.png" alt="" srcset="" />
        </div>
        <h2>Airtel Data</h2>
      </div>
     </a>
     <a href="{% url "mtn-data-list" network='MTN' %}">
      <div class="quick__data__item">
        <div class="service__icon">
          <img src="../images/mtn.png" alt="" srcset="" />
        </div>
        <h2>MTN Data</h2>
      </div>
     </a>
    </div>
  </div>
</header>

<!-- The snackbar -->
<div id="snackbar">Copied...</div>

<!-- Main Section -->
<main class="main__section">
  <div class="main__section__item">
    <div class="service__icon">
      <i class="fa fas fas fa-tv" aria-hidden="true"></i>
    </div>
    <h2>Cable Sub</h2>
  </div>
  <div class="main__section__item">
    <div class="service__icon">
      <i class="fa fas fas fas fa-wifi" aria-hidden="true"></i>
    </div>
    <h2>Buy Data</h2>
  </div>
  <div class="main__section__item">
    <div class="service__icon">
      <i class="fa fas fas fas fa-phone" aria-hidden="true"></i>
    </div>
    <h2>Buy Airtime</h2>
  </div>
  <div class="main__section__item">
    <div class="service__icon">
      <img src="../images/smile-logo.webp" alt="" srcset="" />
    </div>
    <h2>Smile Data</h2>
  </div>
  <div class="main__section__item">
    <div class="service__icon">
      <i class="fa fas fas fas fas fa-graduation-cap" aria-hidden="true"></i>
    </div>
    <h2>Exam PIN</h2>
  </div>
  <div class="main__section__item">
    <div class="service__icon">
      <i class="fa-solid fa-bolt"></i>
    </div>
    <h2>Buy Electricity</h2>
  </div>
  <div class="main__section__item coming-soon">
    <div class="service__icon">
      <i class="fa-solid fa-print"></i>
    </div>
    <h2>Data Card</h2>
  </div>
  <div class="main__section__item coming-soon">
    <div class="service__icon">
      <i class="fa-solid fa-id-card-clip"></i>
    </div>
    <h2>Recharge Card Print</h2>
  </div>
  <div class="main__section__item coming-soon">
    <div class="service__icon">
      <i class="fa-solid fas fa-sms"></i>
    </div>
    <h2>Bulk SMS</h2>
  </div>
</main>

<!-- Image slider -->
<!-- Slideshow container -->
<div class="slideshow-container">
  <div class="mySlides fade">
    <img src="../images/bg.jpg" style="width: 100%" />
  </div>

  <div class="mySlides fade">
    <img src="../images/mtn.png" style="width: 100%" />
  </div>

  <div class="mySlides fade">
    <img src="../images/airtel.png" style="width: 100%" />
  </div>
</div>
<br />

<!-- Bottom Nav -->
<footer>
  <div class="footer__container">
    <div class="footer__item">
      <div class="footer__item__content">
        <i class="fa fa-home" aria-hidden="true"></i>
        <p class="poppins-regular">Home</p>
      </div>
    </div>
    <div class="footer__item">
      <div class="footer__item__content">
        <i class="fa fas fa-history" aria-hidden="true"></i>
        <p class="poppins-regular">History</p>
      </div>
    </div>
    <div class="footer__item">
      <div class="footer__item__content">
        <i class="fa fas fas fa-chalkboard-teacher" aria-hidden="true"></i>
        <p class="poppins-regular">Support</p>
      </div>
    </div>
    <div class="footer__item">
      <div class="footer__item__content">
        <i class="fa fas fa-user-alt" aria-hidden="true"></i>
        <p class="poppins-regular">Profile</p>
      </div>
    </div>
  </div>
</footer>
{% endblock content %}


{% block script %}
 <script>
      let toggle = document.querySelector(".toggle__menu");
      let toggleIcon = document.querySelector(".toggle__menu i");
      let dropdownMenu = document.querySelector(".dropdown-menu");

      let eyeHide = document.querySelector(".item__hide i");
      let walletBalance = document.querySelector(".item__hide h2");
      let prevWallet = walletBalance.textContent;

      let comingSoon = document.getElementsByClassName("coming-soon");

      toggle.onclick = function () {
        dropdownMenu.classList.toggle("open");

        const isOpen = dropdownMenu.classList.contains("open");

        toggleIcon.classList = isOpen
          ? "fa-solid fa-xmark"
          : "fa-solid fa-bars";
      };

      eyeHide.onclick = function () {
        walletBalance.classList.toggle("show");

        const isShow = walletBalance.classList.contains("show");

        eyeHide.classList = isShow
          ? "fa-solid far fa-eye-slash"
          : "fa-solid far fa-eye";
        walletBalance.textContent = isShow ? prevWallet : "*****";
      };

      function copyText(text) {
        navigator.clipboard
          .writeText(text)
          .then(function () {
            console.log("Text copied to clipboard");
            showToast();
          })
          .catch(function () {
            console.error("Error while trying to copy the text");
          });
      }

      function showToast() {
        // Get the snackbar DIV
        var x = document.getElementById("snackbar");

        // Add the "show" class to DIV
        x.className = "show";

        // After 3 seconds, remove the show class from DIV
        setTimeout(function () {
          x.className = x.className.replace("show", "");
        }, 3000);
      }

      for (let index = 0; index < comingSoon.length; index++) {
        const element = comingSoon[index];

        element.onclick = function () {
          showSweetAlert("Coming Soon...", "That thing is still around?", true);
        };
      }

      function showSweetAlert(title, text, isSuccess) {
        Swal.fire({
          icon: isSuccess ? "success" : "error",
          title: title,
          text: text,
          confirmButtonColor: "#1682e7",
        });
      }
      function showErrorAlert(text) {
        Swal.fire({
          icon: "error",
          title: "Oops...",
          text: text,
          confirmButtonColor: "#1682e7",
        });
      }

      let slideIndex = 0;
      showSlides();

      function showSlides() {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        let dots = document.getElementsByClassName("dot");
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {
          slideIndex = 1;
        }
        for (i = 0; i < dots.length; i++) {
          dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        setTimeout(showSlides, 2000); // Change image every 2 seconds
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    {% endblock script %}
